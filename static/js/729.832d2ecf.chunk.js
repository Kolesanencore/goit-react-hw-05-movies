"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[729],{2639:function(e,r,t){t.d(r,{a:function(){return s},Z:function(){return i}});var n=t(8966),a="Loader_loaderWrapper__6ypwD",c=t(184),s=function(e){var r=e.visible;return(0,c.jsx)("div",{className:a,children:(0,c.jsx)(n.VF,{height:"100",width:"100",color:"#bf3989",secondaryColor:"#096bde)",radius:"12.5",ariaLabel:"mutating-dots-loading",wrapperClass:"loaderWrapper",visible:r})})},i=s},97:function(e,r,t){t.d(r,{Z:function(){return l}});var n,a=t(7689),c=t(1087),s=t(168),i=t(5397).Z.img(n||(n=(0,s.Z)(["\n  margin-bottom: 8px;\n  width: 270px;\n  height: 450px;\n  object-fit: cover;\n  border-radius: 8px;\n"]))),o=t(184),u=function(e){var r=e.movie,t=(0,a.TH)();return(0,o.jsx)("li",{children:(0,o.jsxs)(c.rU,{to:"/movies/".concat(r.id),state:{from:t},children:[(0,o.jsx)(i,{src:r.poster_path?"https://image.tmdb.org/t/p/w500/".concat(r.poster_path):"https://cdn-icons-png.flaticon.com/512/2748/2748558.png",alt:r.title}),(0,o.jsx)("h3",{children:r.title}),(0,o.jsx)("p",{children:r.release_date&&r.release_date.slice(0,4)}),(0,o.jsx)("p",{children:r.vote_average&&r.vote_average.toFixed(1)})]})},r.id)},p=t(6815),l=function(e){var r=e.movies;return(0,o.jsx)(p.$,{children:r.map((function(e){return(0,o.jsx)(u,{movie:e},e.id)}))})}},6815:function(e,r,t){t.d(r,{$:function(){return i},W:function(){return o}});var n,a,c=t(168),s=t(5397),i=s.Z.ul(n||(n=(0,c.Z)(["\n  display: grid;\n  justify-content: center;\n  grid-template-columns: repeat(auto-fill, 271px);\n  gap: 20px;\n  margin-top: 14px;\n"]))),o=s.Z.div(a||(a=(0,c.Z)(["\n  max-width: 1180px;\n  padding: 0 16px;\n  margin: 0px auto;\n"])))},1729:function(e,r,t){t.r(r),t.d(r,{Movies:function(){return w},default:function(){return Z}});var n=t(5861),a=t(9439),c=t(4687),s=t.n(c),i=t(2791),o=t(1087),u=t(2639),p=t(3243),l=t(97),h=t(1413),f=t(887),v=t(3728),d="SearchBar_SearchForm__J+i1a",m="SearchBar_SearchForm-button__9dEGw",g="SearchBar_SearchForm-input__pGYri",x="SearchBar_search-icon__OScmK",_=t(184),b=function(e){var r=e.onSearch,t=(0,f.cI)(),n=t.register,a=t.handleSubmit,c=t.reset;return(0,_.jsxs)("form",{className:d,onSubmit:a((function(e){var t=e.searchQuery;r(t),c({searchQuery:""})})),children:[(0,_.jsx)("input",(0,h.Z)({className:g,type:"text",placeholder:"Search Movies"},n("searchQuery",{required:!0}))),(0,_.jsx)("button",{className:m,type:"submit",children:(0,_.jsx)("span",{className:"button-label",children:(0,_.jsx)(v.Vph,{className:x})})})]})},w=function(){var e=(0,i.useState)([]),r=(0,a.Z)(e,2),t=r[0],c=r[1],h=(0,i.useState)(!1),f=(0,a.Z)(h,2),v=f[0],d=f[1],m=(0,i.useState)(!1),g=(0,a.Z)(m,2),x=g[0],w=g[1],Z=(0,o.lr)(),j=(0,a.Z)(Z,2),y=j[0],S=j[1],k=y.get("query");return(0,i.useEffect)((function(){if(k){var e=function(){var e=(0,n.Z)(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,(0,p.gH)(k);case 4:r=e.sent,c(r.results),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error searching movies:",e.t0);case 11:return e.prev=11,d(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}}),[k]),(0,_.jsxs)("section",{children:[(0,_.jsx)(b,{onSearch:function(e){w(!0),S(new URLSearchParams({query:e}))}}),v&&(0,_.jsx)(u.Z,{visible:v}),x&&0===t.length&&(0,_.jsx)("p",{children:"No search results found"}),t.length>0&&(0,_.jsx)(l.Z,{movies:t})]})},Z=w},3243:function(e,r,t){t.d(r,{Bt:function(){return f},Df:function(){return p},Ny:function(){return h},gH:function(){return l},y:function(){return v}});var n=t(1413),a=t(5861),c=t(4687),s=t.n(c),i=t(1243),o=t(184),u=i.Z.create({baseURL:"https://api.themoviedb.org/3/",params:{api_key:"c209603f4e1441562adec7f34b907cef"}}),p=function(){var e=(0,a.Z)(s().mark((function e(){var r,t,a,c=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>0&&void 0!==c[0]?c[0]:1,e.prev=1,e.next=4,u.get("trending/movie/week",{params:{page:r}});case 4:return t=e.sent,a=t.data.results.slice(0,12),e.abrupt("return",(0,n.Z)((0,n.Z)({},t.data),{},{results:a}));case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,a.Z)(s().mark((function e(r){var t,n,a=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:1,e.prev=1,e.next=4,u.get("search/movie",{params:{query:r,page:t}});case 4:return n=e.sent,e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(r){return e.apply(this,arguments)}}(),h=function(){var e=(0,a.Z)(s().mark((function e(r){var t,n,a,c,i,p,l,h,f,v;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.get("movie/".concat(r));case 3:return t=e.sent,n=t.data,a=n.poster_path,c=n.title,i=n.vote_average,p=n.overview,l=n.genres,h=a?"https://image.tmdb.org/t/p/w500/".concat(a):"https://cdn-icons-png.flaticon.com/512/2748/2748558.png",f=Math.ceil(10*i),v=l.map((function(e){var r=e.id,t=e.name;return(0,o.jsx)("li",{children:t},r)})),e.abrupt("return",{src:h,title:c,userScore:f,overview:p,genresList:v});case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r){return e.apply(this,arguments)}}(),f=function(){var e=(0,a.Z)(s().mark((function e(r){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.get("movie/".concat(r,"/reviews"));case 3:return t=e.sent,n=t.data.results.map((function(e){return{author:e.author,id:e.id,content:e.content}})),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}(),v=function(){var e=(0,a.Z)(s().mark((function e(r){var t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.get("movie/".concat(r,"/credits"));case 3:return t=e.sent,n=t.data.cast.map((function(e){var r=e.name,t=e.character,n=e.id,a=e.profile_path;return{name:r,character:t,id:n,src:a?"https://image.tmdb.org/t/p/w200/".concat(a):"https://cdn-icons-png.flaticon.com/512/2748/2748558.png"}})),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(r){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=729.832d2ecf.chunk.js.map